# Monthly Trading Implementation TODO

## Phase 1: Complete Daily Data Join (01_join_macro_15day_lag.ipynb)
- [ ] Add output directory creation
- [ ] Save joined datasets (GDEA and HBEA with macro features)
- [ ] Add data validation checks
- [ ] Create summary statistics
- [ ] Document the output format

## Phase 2: Monthly Data Preparation
- [ ] Create new notebook: 03_Code/02_Feature_Engineering/02_join_macro_monthly.ipynb
  - Reference: 01_join_macro_15day_lag.ipynb
  - Input: Forward-filled carbon data + lagged macro data
  - Process: Filter to month-end trading days using XSHG calendar
  - Output: Monthly datasets in 02_Data_Processed/03_Feature_Engineered/

- [ ] Create output directory: 02_Data_Processed/03_Feature_Engineered/

- [ ] Generate output files:
  - GDEA_monthly_with_macro.parquet
  - HBEA_monthly_with_macro.parquet

- [ ] Create documentation: docs/data/DataCard_Monthly_Feature_Engineered.md

## Phase 3: Monthly Strategy Implementation
- [ ] Create monthly strategy base class
- [ ] Modify simulate_nav() for monthly rebalancing
- [ ] Implement monthly strategies (BuyAndHold, SMA, Momentum, MacroSignal)
- [ ] Update evaluation metrics for monthly frequency (12 periods/year)

## Data Structure Notes
- Month-end = last trading day per Shanghai Exchange calendar
- Keep existing lag structure (15-day for monthly, 1-day for daily indicators)
- Use point-in-time values, not averages
- Preserve all columns (price, volume, all macro indicators with lag suffixes)